{"version":4,"terraform_version":"1.10.5","serial":10,"lineage":"7b76bfa4-f081-76b1-3afb-cc52d39f6edd","outputs":{"container_id":{"value":"5fc9cf1f4fb85caa42bd24cdcb6d6756210daa4e0bc75c966a98f9ed66a36898","type":"string"},"pg_connection_url":{"value":"postgresql://appuser:asdfgh123@localhost:5433/appdb","type":"string","sensitive":true},"url":{"value":"http://localhost:8081","type":"string"}},"resources":[{"mode":"managed","type":"docker_container","name":"nginx","provider":"provider[\"registry.opentofu.org/kreuzwerker/docker\"]","instances":[{"schema_version":2,"attributes":{"attach":false,"bridge":"","capabilities":[],"cgroup_parent":null,"cgroupns_mode":null,"command":["nginx","-g","daemon off;"],"container_logs":null,"container_read_refresh_timeout_milliseconds":15000,"cpu_period":null,"cpu_quota":null,"cpu_set":"","cpu_shares":0,"cpus":null,"destroy_grace_seconds":null,"devices":[],"dns":[],"dns_opts":[],"dns_search":[],"domainname":"","entrypoint":["/docker-entrypoint.sh"],"env":[],"exit_code":null,"gpus":null,"group_add":[],"healthcheck":[],"host":[],"hostname":"5fc9cf1f4fb8","id":"5fc9cf1f4fb85caa42bd24cdcb6d6756210daa4e0bc75c966a98f9ed66a36898","image":"sha256:33e0bbc7ca9ecf108140af6288c7c9d1ecc77548cbfd3952fd8466a75edefe57","init":false,"ipc_mode":"private","labels":[],"log_driver":"json-file","log_opts":{},"logs":false,"max_retry_count":0,"memory":0,"memory_swap":0,"mounts":[{"bind_options":[],"read_only":false,"source":"nginx-logs","target":"/var/log/nginx","tmpfs_options":[],"type":"volume","volume_options":[]},{"bind_options":[],"read_only":true,"source":"/Users/ehystiv/Projects/Personali/tofu/site","target":"/usr/share/nginx/html","tmpfs_options":[],"type":"bind","volume_options":[]}],"must_run":true,"name":"nginx","network_data":[{"gateway":"172.17.0.1","global_ipv6_address":"","global_ipv6_prefix_length":0,"ip_address":"172.17.0.2","ip_prefix_length":16,"ipv6_gateway":"","mac_address":"06:6d:23:6e:7b:53","network_name":"bridge"}],"network_mode":"bridge","networks_advanced":[],"pid_mode":"","ports":[{"external":8081,"internal":80,"ip":"0.0.0.0","protocol":"tcp"}],"privileged":false,"publish_all_ports":false,"read_only":false,"remove_volumes":true,"restart":"no","rm":false,"runtime":"runc","security_opts":[],"shm_size":64,"start":true,"stdin_open":false,"stop_signal":"SIGQUIT","stop_timeout":0,"storage_opts":{},"sysctls":{},"tmpfs":{},"tty":false,"ulimit":[],"upload":[],"user":"","userns_mode":"","volumes":[],"wait":false,"wait_timeout":60,"working_dir":""},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==","dependencies":["docker_image.nginx","docker_volume.nginx_logs","local_file.index_html"]}]},{"mode":"managed","type":"docker_container","name":"postgres","provider":"provider[\"registry.opentofu.org/kreuzwerker/docker\"]","instances":[{"schema_version":2,"attributes":{"attach":false,"bridge":"","capabilities":[],"cgroup_parent":null,"cgroupns_mode":null,"command":["postgres"],"container_logs":null,"container_read_refresh_timeout_milliseconds":15000,"cpu_period":null,"cpu_quota":null,"cpu_set":"","cpu_shares":0,"cpus":null,"destroy_grace_seconds":null,"devices":[],"dns":[],"dns_opts":[],"dns_search":[],"domainname":"","entrypoint":["docker-entrypoint.sh"],"env":["POSTGRES_DB=appdb","POSTGRES_PASSWORD=asdfgh123","POSTGRES_USER=appuser"],"exit_code":null,"gpus":null,"group_add":[],"healthcheck":[{"interval":"10s","retries":5,"start_interval":"0s","start_period":"10s","test":["CMD-SHELL","pg_isready -U appuser -d appdb"],"timeout":"3s"}],"host":[],"hostname":"322f2c586e0a","id":"322f2c586e0a5242f98590074f0c77d73f83b85d2547793ceed83a05b9ae2704","image":"sha256:8ffca822c1933bdc8be7dbbe9c2330974bdb43f5027f47717772fa35925412b0","init":false,"ipc_mode":"private","labels":[],"log_driver":"json-file","log_opts":{},"logs":false,"max_retry_count":0,"memory":0,"memory_swap":0,"mounts":[{"bind_options":[],"read_only":false,"source":"pg-data","target":"/var/lib/postgresql/data","tmpfs_options":[],"type":"volume","volume_options":[]}],"must_run":true,"name":"postgres","network_data":[{"gateway":"172.17.0.1","global_ipv6_address":"","global_ipv6_prefix_length":0,"ip_address":"172.17.0.3","ip_prefix_length":16,"ipv6_gateway":"","mac_address":"76:52:2a:75:90:47","network_name":"bridge"}],"network_mode":"bridge","networks_advanced":[],"pid_mode":"","ports":[{"external":5433,"internal":5432,"ip":"0.0.0.0","protocol":"tcp"}],"privileged":false,"publish_all_ports":false,"read_only":false,"remove_volumes":true,"restart":"unless-stopped","rm":false,"runtime":"runc","security_opts":[],"shm_size":64,"start":true,"stdin_open":false,"stop_signal":"SIGINT","stop_timeout":0,"storage_opts":{},"sysctls":{},"tmpfs":{},"tty":false,"ulimit":[],"upload":[],"user":"","userns_mode":"","volumes":[],"wait":false,"wait_timeout":60,"working_dir":"/"},"sensitive_attributes":[[{"type":"get_attr","value":"env"}]],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjIifQ==","dependencies":["docker_image.postgres","docker_volume.pg_data"]}]},{"mode":"managed","type":"docker_image","name":"nginx","provider":"provider[\"registry.opentofu.org/kreuzwerker/docker\"]","instances":[{"schema_version":0,"attributes":{"build":[],"force_remove":null,"id":"sha256:33e0bbc7ca9ecf108140af6288c7c9d1ecc77548cbfd3952fd8466a75edefe57nginx:latest","image_id":"sha256:33e0bbc7ca9ecf108140af6288c7c9d1ecc77548cbfd3952fd8466a75edefe57","keep_locally":true,"name":"nginx:latest","platform":null,"pull_triggers":null,"repo_digest":"nginx@sha256:33e0bbc7ca9ecf108140af6288c7c9d1ecc77548cbfd3952fd8466a75edefe57","timeouts":null,"triggers":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"}]},{"mode":"managed","type":"docker_image","name":"postgres","provider":"provider[\"registry.opentofu.org/kreuzwerker/docker\"]","instances":[{"schema_version":0,"attributes":{"build":[],"force_remove":null,"id":"sha256:8ffca822c1933bdc8be7dbbe9c2330974bdb43f5027f47717772fa35925412b0postgres:16-alpine","image_id":"sha256:8ffca822c1933bdc8be7dbbe9c2330974bdb43f5027f47717772fa35925412b0","keep_locally":true,"name":"postgres:16-alpine","platform":null,"pull_triggers":null,"repo_digest":"postgres@sha256:8ffca822c1933bdc8be7dbbe9c2330974bdb43f5027f47717772fa35925412b0","timeouts":null,"triggers":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"}]},{"mode":"managed","type":"docker_volume","name":"nginx_logs","provider":"provider[\"registry.opentofu.org/kreuzwerker/docker\"]","instances":[{"schema_version":1,"attributes":{"driver":"local","driver_opts":{},"id":"nginx-logs","labels":[],"mountpoint":"/var/lib/docker/volumes/nginx-logs/_data","name":"nginx-logs"},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="}]},{"mode":"managed","type":"docker_volume","name":"pg_data","provider":"provider[\"registry.opentofu.org/kreuzwerker/docker\"]","instances":[{"schema_version":1,"attributes":{"driver":"local","driver_opts":{},"id":"pg-data","labels":[],"mountpoint":"/var/lib/docker/volumes/pg-data/_data","name":"pg-data"},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="}]},{"mode":"managed","type":"local_file","name":"index_html","provider":"provider[\"registry.opentofu.org/hashicorp/local\"]","instances":[{"schema_version":0,"attributes":{"content":"\u003c!doctype html\u003e\n\u003chtml\u003e\n  \u003chead\u003e\n    \u003cmeta charset=\"utf-8\"/\u003e\n    \u003ctitle\u003eBenvenuto!\u003c/title\u003e\n    \u003cstyle\u003e\n      body { font-family: system-ui, sans-serif; background: #ffffff; color: #222222; }\n      main { max-width: 42rem; margin: 10vh auto; line-height: 1.6; }\n      code { padding: 2px 4px; border: 1px solid #ccc; }\n    \u003c/style\u003e\n  \u003c/head\u003e\n  \u003cbody\u003e\n    \u003cmain\u003e\n      \u003ch1\u003eBenvenuto!\u003c/h1\u003e\n      \u003cp\u003eCiao da \u003ccode\u003eOpenTofu + Docker\u003c/code\u003e. Porta esposta: \u003cstrong\u003e8081\u003c/strong\u003e.\u003c/p\u003e\n      \u003cp\u003eTag immagine: \u003cstrong\u003elatest\u003c/strong\u003e. Container: \u003cstrong\u003enginx\u003c/strong\u003e.\u003c/p\u003e\n    \u003c/main\u003e\n  \u003c/body\u003e\n\u003c/html\u003e\n","content_base64":null,"content_base64sha256":"l7CDloCS4DSNgA1KKF+NMumpvkapNjdHwXF6DHvaN+M=","content_base64sha512":"vbNM8RwgOJ/AvFfAz13AEC1x749zuyW5caNYw8zFDhsUPSNUUsIpX/Ljmz/G/py0jfL0QocC6rs9/6W+g7NqSA==","content_md5":"c7aec749754e29d6a99588d8a048a5d8","content_sha1":"02b8989c14a9d3312d8a4e8db8b2a4b44026424d","content_sha256":"97b083968092e0348d800d4a285f8d32e9a9be46a9363747c1717a0c7bda37e3","content_sha512":"bdb34cf11c20389fc0bc57c0cf5dc0102d71ef8f73bb25b971a358c3ccc50e1b143d235452c2295ff2e39b3fc6fe9cb48df2f4428702eabb3dffa5be83b36a48","directory_permission":"0777","file_permission":"0777","filename":"./site/index.html","id":"02b8989c14a9d3312d8a4e8db8b2a4b44026424d","sensitive_content":null,"source":null},"sensitive_attributes":[[{"type":"get_attr","value":"sensitive_content"}]]}]}],"check_results":[{"object_kind":"var","config_addr":"var.external_port","status":"pass","objects":[{"object_addr":"var.external_port","status":"pass"}]}]}
